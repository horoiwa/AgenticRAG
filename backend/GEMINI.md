# Agentic RAG API 仕様書

## 概要

FastAPIを利用して構築する、AgenticなRAG (Retrieval-Augmented Generation) APIの仕様。

---

## APIエンドポイント

### 1. チャットエンドポイント

- **エンドポイント:** `POST /chat`
- **機能:** ユーザーからの質問を受け取り、RAGを実行して回答を生成します。会話履歴を考慮した応答も可能です。
- **リクエスト:**
    - `query`: ユーザーからの質問文字列
    - `session_id` (任意): 会話セッションを識別するためのID
- **レスポンス:**
    - `answer`: 生成された回答
    - `sources`: 回答の根拠となった情報源（ドキュメント名、抜粋など）のリスト

### 2. ドキュメント管理エンドポイント

RAGの知識源となるドキュメントを管理します。

- **エンドポイント:** `POST /documents`
    - **機能:** 新しいドキュメントをアップロードし、ベクトル化して保存します。
    - **リクエスト:** ファイルデータ or ドキュメントのテキスト
- **エンドポイント:** `GET /documents`
    - **機能:** 登録されているドキュメントの一覧を取得します。
- **エンドポイント:** `DELETE /documents/{document_id}`
    - **機能:** 指定されたドキュメントを削除します。
